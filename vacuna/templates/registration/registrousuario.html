{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Registro de usuario - Vacunate UC</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- icono de sitio -->
    <link rel="icon" href="{% static 'vacunateuc/img/favicon-uc.ico' %}" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- iconos bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" href="{% static 'vacunateuc/style_register.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
</head>

<!-- encabezado -->
<nav class="navbar navbar-expand-sm navbar-custom">
    <div class="container-fluid">
        <a class="navbar-brand">
            <img src="{% static 'vacunateuc/img/VacunateUC-logo-blanco.svg' %}" alt="" width="50" height="50" class="d-inline-block align-text-center">
        </a>
        <h2 style="color: white; flex: auto; margin-top: auto;">REGISTRO DE USUARIO</h2>
        <!-- Item de la derecha: Boton volver a login -->
        <div class="mrt me-2">
            <ul class="navbar-nav">
              <li class="nav-item" style="font-size: medium; font-weight: bold;">
                <a class="nav-link toggle" href="{% url 'login' %}"><i class="bi bi-box-arrow-left"></i> VOLVER ATRÁS</a>
              </li>
            </ul>
        </div>
    </div>
</nav>

<body>
    <div class="container">
      <br>
      <h2>Por favor, escriba correctamente sus datos en los campos existentes.</h2>
      <form class= "row g-3 needs-validation" novalidate action="{% url 'registrousuario' %}" method="POST">
        {% csrf_token %}
                
        <!-- inicio formulario original anterior -->
        <div class="col-md-6">
          <label for="validationCustom01" class="form-label">Nombre(s)</label>
          <input type="text" class="form-control" id="validationCustom01" name="first_name" required>
          <div class="invalid-feedback">
            Este campo es requerido. Por favor, escriba su nombre.
          </div>
        </div>
        <div class="col-md-6">
          <label for="validationCustom02" class="form-label">Apellido(s)</label>
          <input type="text" class="form-control" id="validationCustom02" name="last_name" required>
          <div class="invalid-feedback">
            Este campo es requerido. Por favor, escriba su apellido.
          </div>
        </div>
        <div class="col-md-6">
          <label for="validationCustomUsername" class="form-label">Numero de documento de identidad</label>
          <div class="input-group has-validation">
            <input type="number" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" name="username" required>
            <div class="invalid-feedback">
              Este campo es requerido. Por favor, digite su documento de identidad.
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <label for="password1" class="form-label">Contraseña</label>
          <div class="input-group has-validation">
            <input type="password" class="form-control" id="password1" aria-describedby="inputGroupPrepend" name="password1" required>
            <div class="invalid-feedback">
              Este campo es requerido. Por favor, elija una contraseña.
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <label for="validationCustomUsername" class="form-label">Confirmar Contraseña</label>
          <div class="input-group has-validation">
            <input type="password" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" name="password2" required>
            <div class="invalid-feedback">
              Este campo es requerido. Por favor, escriba nuevamente una contraseña.
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <label for="datepicker" class="form-label">Fecha de nacimiento</label>
          <div class="input-group has-validation">
            <div class="input-group-append">
              <!-- <span class="input-group-text"><i class="fas fa-user fa-1x"></i></span> -->
              <div class="input-group-text"><i class="bi bi-calendar3"></i></div>
            </div>
            <input type="date" class="form-control" name="fecha_nac" required></input>
            <!-- <input type="text" class="form-control" id="datepicker" aria-describedby="inputGroupPrepend" name="fecha_nac" required> -->
            <div class="invalid-feedback">
              Este campo es requerido. Por favor, elija su fecha de nacimiento
            </div>
          </div>
        </div>
        <!-- <div class="col-md-6">
          <label for="validationCustomUsername" class="form-label">Edad prueba</label>
          <div class="input-group has-validation">
            <input type="number" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" name="fechanac" required>
            <div class="invalid-feedback">
              Este campo es requerido. Por favor, digite su edad.
            </div>
          </div>
        </div> -->
        <div class="col-md-6">
          <label for="validationCustom04" class="form-label">Departamento</label>
          <input class="form-control" value="Guaira" name="departamento" disabled required></input>
          <div class="invalid-feedback">
            Este campo es requerido. Por favor, seleccione su departamento.
          </div>
        </div>
        <div class="col-md-6">
          <label for="validationCustom03" class="form-label">Ciudad</label>
          <!-- <input type="text" class="form-control" id="validationCustom03" name="ciudad" required> -->
          <select class="form-select" aria-label="Default select example" name="ciudad">
            {% for val in ciudad %}
              <option value="{{ val }}"required>{{ val }}</option>
            {% endfor %}
          </select>
          <div class="invalid-feedback">
            Este campo es requerido. Por favor, ingrese su ciudad.
          </div>
        </div>
        <!-- Fin formulario original-->
        <div class="col-12">
          <button class="btn btn-lg btn-register" type="submit" href="{% url 'registrousuario' %}"><i class="bi bi-check"></i> Guardar</button>
        </div>
      </form>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- Libreria datepicker -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
            })
        })()
    </script>
    
  </body>
  <!-- Inicio Footer -->
  <footer class="footer-pg">
      <footer class="text-center text-white" style="background-color: #164194;">
        <div class="container p-4 pb-0">
          <section class="logo-footer">
            <img src="{% static 'vacunateuc/img/VacunateUC-logo-blanco.svg' %}" alt="" width="100" height="100" class="align-middle">
          </section>
          <p>Sistema de agendamiendo de vacunación</p>
        </div>
        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.5);">
          <!-- &copy; {{ current_year }} | Vacunate UC -->
          &copy; {% now "Y" %} | Vacunate UC
        </div>
      </footer>
  </footer>
  <!-- Fin Footer -->

</html>